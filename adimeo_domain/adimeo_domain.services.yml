services:

  # Manager
  adimeo_domain.domain.manager:
    class: Drupal\adimeo_domain\Manager\DomainManager
    arguments: [ '@entity_type.manager', '@domain.current_domain_context', '@domain.negotiator' ]

  adimeo_domain.entity_domain_access_check.manager:
    class: Drupal\adimeo_domain\Manager\EntityDomainAccessCheckManager
    arguments: [ '@adimeo_domain.domain.manager' ]

  adimeo_domain.access_plugin_handler.manager:
    class: Drupal\adimeo_domain\Manager\DomainAccessPluginHandlerManager
    arguments: ['@config.manager', '@plugin.manager.adimeo_domain_access']

  plugin.manager.adimeo_domain_access:
    class: Drupal\adimeo_domain\Manager\AdimeoDomainAccessPluginManager
    parent: default_plugin_manager
